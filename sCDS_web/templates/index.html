<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>sCDS Detection Tool</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
	</head>
	<body>
		<div class="container mt-5">
			<h1 class="text-center mb-4">sCDS Detection Tool</h1>
			<div class="card">
				<div class="card-body">
					<form method="post" enctype="multipart/form-data">
						<!-- Section pour le fichier FASTA -->
						<div class="mb-3">
							<label for="fasta" class="form-label">Genome FASTA file:</label>
							<label for="fasta" class="btn btn-secondary" id="fastaLabel">Choose File</label>
							<input type="file" name="fasta" id="fasta" class="d-none" required>
							<span id="fastaFileName" class="ms-2"></span>
						</div>
						<!-- Section pour les fichiers EMBL via dossier -->
						<div class="mb-3">
							<label for="embl_files" class="form-label">EMBL folder:</label>
							<label for="embl_files" class="btn btn-secondary" id="emblLabel">Choose Folder</label>
							<input type="file" name="embl_files" id="embl_files" class="d-none" webkitdirectory directory multiple required>
							<span id="emblFolderName" class="ms-2"></span>
						</div>
						<!-- Champs pour les noms de fichier de sortie -->
						<div class="mb-3">
							<label for="output_cds" class="form-label">Output CDS filename:</label>
							<input type="text" name="output_cds" id="output_cds" class="form-control" value="result_CDS.fasta" required>
						</div>
						<div class="mb-3">
							<label for="output_prot" class="form-label">Output Proteins filename:</label>
							<input type="text" name="output_prot" id="output_prot" class="form-control" value="result_prot.fasta" required>
						</div>
						<button type="submit" class="btn btn-primary">Process Files</button>
					</form>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			// Pour le fichier FASTA
			document.getElementById('fasta').addEventListener('change', function(){
				var fileName = this.files[0] ? this.files[0].name : "No file chosen";
				document.getElementById('fastaFileName').textContent = fileName;
			});
			// Pour le dossier EMBL, on peut afficher le nombre de fichiers sélectionnés
			document.getElementById('embl_files').addEventListener('change', function(){
				var count = this.files.length;
				document.getElementById('emblFolderName').textContent = count + " files selected";
			});
		</script>
	</body>
</html>
